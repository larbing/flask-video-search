<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Search Results</title>
    <link rel="stylesheet" type="text/css" href="/static/search.css" />
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var searchResults = document.querySelectorAll('.search-results li');
            var resultCount = searchResults.length;
            var resultCountElement = document.createElement('div');
            resultCountElement.className = 'result-count';
            resultCountElement.textContent = 'Showing ' + resultCount + ' results';
            document.querySelector('.search-results').prepend(resultCountElement);

            searchResults.forEach(function(result) {
                result.addEventListener('click', function() {
                    searchResults.forEach(function(res) {
                        res.classList.remove('highlight');
                    });
                    this.classList.add('highlight');
                    this.style.animation = 'highlight 0.3s forwards';
                });
            });
        });
    </script>
</head>
<body>
    <div class="search-container">
        <div class="search-form">
            <form action="/search" method="get" class="search-form">
                <input type="text" value="{{ keyword }}" name="q" placeholder="Search videos...">
                <button>Search</button>
            </from>
        </div>
        <div class="search-results">
            <h2>Search Results for "{{ keyword }}"</h2>
            <h2>pageTotal for "{{ pageMaster.pagecount }}"</h2>
            <h2>total for "{{ pageMaster.total }}"</h2>
            <ul>

                {% for item in pageMaster.resutls %}
                <li>
                    <!-- <img src="video-thumbnail-1.jpg" alt="Video Thumbnail"> -->
                    <div>
                        <a href="{{  item['url'] }}">
                            <div class="title">{{ item['title'] }}</div>
                            <div class="snippet">This is the first episode of the video series.</div>
                        </a>
                        <!-- <div class="episode-nav">
                            <a href="video-episode-1.html">Episode 1</a>
                            <a href="video-episode-2.html">Episode 2</a>
                            <a href="video-episode-3.html">Episode 3</a>
                        </div> -->
                    </div>
                </li>
                {% endfor %}
                <!-- Add more vi        deo search results as needed -->
            </ul>
            <div class="pagination">
                <a href="{{ pageMaster.get_up_page()  }}">&laquo; Previous</a>
                {% for i in pageMaster.get_pagination() %}
                    {% if pageMaster.is_current_page(i)  %}
                        <a href="#" class="active">{{ i }}</a>
                    {% else %}
                        <a href="#">{{ i }}</a>
                    {% endif %}
                {% endfor %}
                <a href="{{ pageMaster.get_next_page()  }}">Next &raquo;</a>
            </div>
        </div>
    </div>
</body>
</html>
